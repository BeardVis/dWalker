var params={parent:"",itemradius:7,freeZoneradius:100},is=[],lines=[];function dWalker(t){if(!t||!t.parent)return;for(let i in t)params[i]=t[i];const i=document.querySelector(params.parent),e=i.clientHeight,s=i.clientWidth,o=Math.sqrt(s+e)/55;let n=!1,r=0,h=0,a={x:0,y:0};for(;;){let t={x:g(s),y:g(e)},d=new Region(t,params.freeZoneradius*o);for(let t=0;t<is.length;t++)if(is[t].rg.ii(d)){n=!0;break}if(n){if(100==++r)break;n=!1;continue}let p=new Item(h++,params.itemradius*o,t);p.rg=d,is.push(p),r=0;let m=new Line(a,a);i.appendChild(m.hr),lines.push(m)}is.forEach(t=>i.appendChild(t.item));const d=t=>{let i,e=null;for(let s=0;s<is.length;s++)t.id!==is[s].id&&is[s].pid!==t.id&&(i=v(t.position,is[s].position),(null===e||e>i)&&(e=i,t.pid=is[s].id));lines[t.id].u(t.cp,is[t.pid].cp)};is.forEach(t=>t.sp({x:s/2,y:e/2})),is.forEach(t=>d(t)),window.addEventListener("mousemove",function(t){is.forEach(i=>i.sp({x:t.pageX,y:t.pageY})),is.forEach(t=>d(t))},0)}class Item{constructor(t,i,e){this.item=document.createElement("div"),this.item.style.cssText=`width: ${2*i}px;height: ${2*i}px;position: absolute;border-radius: ${i}px;`,this.id=t,this.pid=void 0,this.rg=new Region(e,0),this.radius=i,this.Position=e}set Position(t){this.position=t,this.item.style.left=`${t.x}px`,this.item.style.top=`${t.y}px`}get cp(){return{x:this.position.x+this.radius,y:this.position.y+this.radius}}sp(t){if(this.rg.radius<=0)return;let i=v(t,this.rg.position),e=t.x,s=t.y;if(i>this.rg.radius){let t=this.rg.radius/i;e=this.rg.position.x+(e-this.rg.position.x)*t,s=this.rg.position.y+(s-this.rg.position.y)*t}this.Position={x:e-this.radius,y:s-this.radius}}}class Region{constructor(t,i){this.position=t,this.radius=i}ii(t){return t.radius+this.radius>=v(this.position,t.position)}}class Line{constructor(t,i){this.hr=document.createElement("hr"),this.hr.style.cssText="position: absolute; transform-origin: 0; margin: 0;",this.from=t,this.to=i,this.u(t,i)}u(t,i){if(this.from.x===t.x&&this.from.y===t.y&&this.to.x===i.x&&this.to.y===i.y)return;this.from=t,this.to=i;let e,s={x:t.x,y:i.y},o=v(t,s),n=v(i,s),r=0;t.x>=i.x?t.y>=i.y?(r=90,e=o,o=n,n=e):t.y<=i.y&&(r=180):t.y<=i.y&&(r=270,e=o,o=n,n=e);let h=180*Math.atan2(o,n)/Math.PI+r;this.hr.style.top=`${t.y}px`,this.hr.style.left=`${t.x}px`,this.hr.style.width=`${v(t,i)}px`,this.hr.style.transform=`rotate(${-1*h}deg)`}}const g=t=>Math.floor(Math.random()*Math.floor(t)),v=(t,i)=>Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));